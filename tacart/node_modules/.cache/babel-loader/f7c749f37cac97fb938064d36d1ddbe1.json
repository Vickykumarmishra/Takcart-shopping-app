{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar utils = require('@motionone/utils');\nvar scheduled = undefined;\nfunction processScheduledAnimations() {\n  if (!scheduled) return;\n  var generators = scheduled.sort(compareByDepth).map(fireAnimateUpdates);\n  generators.forEach(fireNext);\n  generators.forEach(fireNext);\n  scheduled = undefined;\n}\nfunction scheduleAnimation(state) {\n  if (!scheduled) {\n    scheduled = [state];\n    requestAnimationFrame(processScheduledAnimations);\n  } else {\n    utils.addUniqueItem(scheduled, state);\n  }\n}\nfunction unscheduleAnimation(state) {\n  scheduled && utils.removeItem(scheduled, state);\n}\nvar compareByDepth = function compareByDepth(a, b) {\n  return a.getDepth() - b.getDepth();\n};\nvar fireAnimateUpdates = function fireAnimateUpdates(state) {\n  return state.animateUpdates();\n};\nvar fireNext = function fireNext(iterator) {\n  return iterator.next();\n};\nexports.scheduleAnimation = scheduleAnimation;\nexports.unscheduleAnimation = unscheduleAnimation;","map":null,"metadata":{},"sourceType":"script"}